import{H as b,M as H,u as $,e as l,s as i,c as f,a as C,d as U}from"./vidstack-1H0xyD-V-sLzNMOel.js";import"./app-gyFXkyxF.js";const d=class d extends b(HTMLElement,H){constructor(){super(...arguments),this.U=null,this.la=null}onSetup(){this.b=$(),this.setAttribute("keep-alive","")}onDestroy(){var t,e;(t=this.la)==null||t.remove(),this.la=null,(e=this.U)==null||e.remove(),this.U=null}onConnect(){l(()=>{var a,r,m;const t=this.$state.loader(),e=t==null?void 0:t.canPlay({src:"",type:"video/youtube"}),o=t==null?void 0:t.canPlay({src:"",type:"video/vimeo"}),n=e||o,s=t?n?this.ma():t.mediaType()==="audio"?this.na():this.oa():null;if(this.U!==s){const E=((a=this.U)==null?void 0:a.parentElement)??this;(r=this.U)==null||r.remove(),this.U=s,s&&E.prepend(s),n&&s&&l(()=>{var v;const{$iosControls:L}=this.b,{controls:y}=this.b.$state,p=y()||L();p?((v=this.la)==null||v.remove(),this.la=null):(this.la=this.querySelector(".vds-blocker")??document.createElement("div"),this.la.classList.add("vds-blocker"),s.after(this.la)),i(s,"data-no-controls",!p)})}e?s==null||s.classList.add("vds-youtube"):o&&(s==null||s.classList.add("vds-vimeo")),n||((m=this.la)==null||m.remove(),this.la=null),this.load(s)})}na(){const t=this.U instanceof HTMLAudioElement?this.U:document.createElement("audio");i(t,"preload","none"),i(t,"aria-hidden","true");const{controls:e,crossorigin:o}=this.b.$state;return l(()=>{i(t,"controls",e()),i(t,"crossorigin",o())}),t}oa(){const t=this.U instanceof HTMLVideoElement?this.U:document.createElement("video"),{controls:e,crossorigin:o,poster:n}=this.b.$state,{$iosControls:s}=this.b,a=f(()=>e()||s()?"":null),r=f(()=>n()&&(e()||s())?n():null);return l(()=>{i(t,"controls",a()),i(t,"crossorigin",o()),i(t,"poster",r())}),t}ma(){return this.U instanceof HTMLIFrameElement?this.U:document.createElement("iframe")}};d.tagName="media-provider";let h=d;const c=class c extends b(HTMLElement,C){};c.tagName="media-player",c.attrs={preferNativeHLS:"prefer-native-hls"};let u=c;U(u);U(h);
